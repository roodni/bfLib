# Brainfuckライブラリ

一応汎用性がある
説明は雑

## 整数入力
空白終端
```Brainfuck
>,>++++++++[-<---->]<[>++++[-<---->]<<[->++++++++++<]>[-<+>],>++++++++[-<---->]<]
```
改行終端
```Brainfuck
>,----------[>++++++[-<------>]<--<[->++++++++++<]>[-<+>],----------]
```

10進数整数の入力を受け取り[0]に格納する。

||0|1|2|
|-|-|-|-|
|開始|0|0|0|
|終了|入力|<b>0</b>|0|
終了位置：[1]

[2]をコード長短縮のためだけに使っている。

## 除算(定数)
```Brainfuck
>>+[>(割る数だけ加算)>[-]<[->>>+<<<<<[[->>>>+<<<<]>>>>>-<-<+<<<]>>>>>[-<<[->+<]<[-]<-<<->>>>>>]<[-<<<<+>>>>]<<]<<<+>>]
```

[1]を定数で割り商と余りを求める。
1byte整数出力のために作ったコードで少し使い勝手が悪い。

||0|1|2|3|4|5|6|
|-|-|-|-|-|-|-|-|
|開始|0|割られる数|0|0|0|0|0|
|終了|商|余り|<b>0</b>|0|0|0|0|
終了位置：[2]

### 元のコード
<details>

```basic
p → 0
a ← (割られる数)
f ← 1
while f
  b ← (割る数)
  _b ← 0
  for b
    if a → _a1 (_a2)
      dec _a1
      inc _b
    else _a2
      inc _a1 ← _b
      b ← 0
      f ← 0
      dec p
    end a ← _a1
  next
  inc p
wend
```

|0|1|2|3|4|5|6|
|---|---|---|---|---|---|---|
|p|a|f|b|_b|_a1|_a2|


```Brainfuck
>> +
[
  > (割る数だけ加算)
  > [-]
  < [-
    >>>+<<<<< [[->>>>+<<<<] >>>>>-<<<<<
      >>>> -
      < +
      <<<
    ] >>>>> [-
      << [->+<]
      < [-]
      < -
      << -
      >>>>>>
    ] < [-<<<<+>>>>]
    <<
  ]
  <<< +
  >>
]
```
</details>

## 1byte整数出力
```Brainfuck
>>+<<[[->+<]>>-<<]>[-<+>]>[++++++[-<+++++++>]<-.[-]>]<<
[[->>>+<<<]>>>>+[>++++++++++>[-]<[->>>+<<<<<[[->>>>+<<<<]>>>>>-<-<+<<<]>>>>>[-<<[->+<]<[-]<-<<->>>>>>]<[-<<<<+>>>>]<<]<<<+>>]+++++++[-<+++++++>]<-<]>[.<<]
```

[0]の値を整数で出力する。出力された値は破壊される。
1行目はゼロ出力用オプション。省くと`0`のみが出力されなくなる。

終了位置：1

### 符号付き整数出力オプション
```brainfuck
>>>>>+<<<++++++++++++++++[-<++++++++>]<[->>+<<<[[->>+<<]>>>-<->>+<<<<]>>>[->>-<<<<[-]>>]<[-<<+>>]<]<[->>>>-<<<<]>>>>[-<<<<+>>>>]>[-<+++++++++[-<+++++>]<.[-]>>]<<<<<
```
先頭につけると出力が符号付きになる。
すなわち、[0]≧128のとき`-`を出力し[0] ← 256-[0]とする。

### 元のコード
<details>

符号処理
```basic
f ← 1
a ← 128
for a
  if n → _n1 (_n2)
    dec _n1
    inc r
  else _n2
    f ← 0
    a ← 0
  end n ← _n1
next
dec r ← n
n ← r

rem f=1なら'-'出力
```
|0|1|2|3|4|5|
|-|-|-|-|-|-|
|n|a|_n1|_n2|r|f|


```Brainfuck
>>>>> +
<<< +++++ +++++ +++++ +[- < +++++ +++ >]
< [ -
  >> + <<< [[- >> + <<] >>> - <<<
    >> - <<
    >>>> + <<<<
  ] >>> [ -
    >> - <<
    << [-] >>
  ] < [- << + >>] <
]

< [- >>>> - <<<<]
>>>> [- <<<< + >>>>]

> [ -
  < +++++ ++++[- < +++++ >] >
  << .[-] >>
]

<<<<<
```

出力
擬似コードは忘れてしまった。解読する気はおきない
```Brainfuck
[
  商を移動
  [->>>+<<<]
  10で割る
  >>>> +
  [
    > +++++ +++++
    > [-]
    < [-
      >>>+<<<<< [[->>>>+<<<<] >>>>>-<<<<<
        >>>> -
        < +
        <<<
      ] >>>>> [-
        << [->+<]
        < [-]
        < -
        << -
        >>>>>>
      ] < [-<<<<+>>>>]
      <<
    ]
    <<< +
    >>
  ]
  余りに48加算
  +++++ ++[-<+++++ ++>]
  < -
  <
]
出力
> [
  .
  <<
]
```

</details>

## 大小比較(非破壊)
```Brainfuck
[->>+>>+<<<<]>>[-<<+>>]+<[->>+>>>+<<[[->+<]>>-<-<]>>[-<<<<-<[->>+<<]>>>>>]<[-<+>]<<<<]>>[-<<+>>]>[-]
```

`[2] = ([0] >= [1])`
終了位置：[4]
0~6使用

### 元のコード
<details>

↓このコードクソ汚いので書き直したい
```brainfuck
[- >> + >> + <<<<]
>> [- << + >>]
+
< [- >> + <<
  >>>>> + << [[- > + <] >> - <<
    > - <
  ] >> [-
    <<<< - >>>>
    <<<<< [- >> + <<] >>>>>
  ] < [- < + >] <<<<
] >> [- << + >>]
> [-]
```
↓修正計画
```basic
ans ← 1
for a → _a
  if b → _b1 (_b2)
    dec _b1
    inc r
  else _b2
    ans ← 0
    inc _a ← a
  end b ← _b1
next a ← _a
inc b ← r
```
|0|1|2|3|4|5|6|
|-|-|-|-|-|-|-|
|b|a|ans|r|_a|_b1|_b2|
```Brainfuck
>> +
< [- >>> + <<<
  >>>>> + <<<<<< [[- >>>>> + <<<<<] >>>>>> - <<<<<<
    >>>>> - <<<<<
    >>> + <<<
  ] >>>>>> [-
    <<<< - >>>>
    <<<<< [- >>> + <<<] >>>>>
  ] < [- <<<<< + >>>>>] <<<<
] >>> [- <<< + >>>]
< [- <<< + >>>]
```
書きなおしたら長くなってしまった。没。
```brainfuck
>>+<[->>>+>>+<<<<<<[[->>>>>+<<<<<]>>>>>>-<-<<+<<<]>>>>>>[-<<<<-<[->>>+<<<]>>>>>]<[-<<<<<+>>>>>]<<<<]>>>[-<<<+>>>]<[-<<<+>>>]
```
ちなみにこちらは使用帯域は変わらず0~6で終了位置は[3]。
</details>
